<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculateur d'IMC</title>
</head>
<body>
    <h1>Calculateur d'IMC</h1>

    <!-- Formulaire pour saisir le poids et la taille -->
    <form method="GET" action="index.php" onsubmit="return validateForm()">
        <label for="weight">Poids (kg) :</label>
        <input type="number" step="0.01" id="weight" name="weight" required><br><br>

        <label for="height">Taille (m) :</label>
        <input type="number" step="0.01" id="height" name="height" required><br><br>

        <input type="submit" value="Calculer IMC">
    </form>

    <h2>Résultat :</h2>
    <p>
        <?php
        // Vérification si les paramètres 'weight' et 'height' sont définis dans l'URL
        if (isset($_GET['weight']) && isset($_GET['height'])) {
            include 'IMCCalculator.php';  // Appelle le fichier qui contient la logique du calcul

            try {
                // Créer une instance d'IMCCalculator
                $imcCalculator = new IMCCalculator();
                // Appeler la méthode pour calculer et afficher l'IMC
                echo "Votre IMC est : " . $imcCalculator->calculateIMC();
            } catch (Exception $e) {
                echo "Erreur : " . $e->getMessage();
            }
        }
        ?>
    </p>

    <script>
        // Fonction JavaScript pour validation supplémentaire (facultatif)
        function validateForm() {
            let weight = document.getElementById("weight").value;
            let height = document.getElementById("height").value;

            if (weight <= 0 || height <= 0) {
                alert("Le poids et la taille doivent être des valeurs positives.");
                return false;
            }
            return true;
        }
    </script>

</body>
</html>
